<html>
<head>
    <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/skeleton.css">
    <link rel="stylesheet" href="/css/custom.css">
    <script type="text/javascript" src="/js/runtime.js"></script>
    <script type="text/javascript" src="/js/search_runtime.js"></script>
</head>

<body onload="boot_search_runtime()">
<div class="container">
    <h1>Search for Similar Images</h1>

    <fieldset>
        <legend>Database</legend>
         <div class="row">
            <div class="one-half column">
                <label for="create_database">
                <input type="radio" id="create_database" name="database_radio" value="create_database" checked/>
                    Create New Database
                </label>
            </div>
            <div class="one-half column">
                <label for="architectures">
                    Architecture:
                    <select id="architectures">
                    </select>
                </label>
                    <input type="button" id="create_database_button" value="Create"/>
            </div>
        </div>
        <div class="row">
            <div class="one-half column">
                <label for="upload_database">
                    <input type="radio" id="upload_database" name="database_radio" value="upload_database"/>
                    Upload Existing Database
                </label>
            </div>
            <div class="one-half column">
                <label for="upload_database_file">Choose File</label>
                <input type="file" id="upload_database_file"/>
                <progress id="upload_database_progress" min="0" max="100" value="0" style="display:none;">0% complete
                </progress>
            </div>
        </div>
        <div class="row">
            <div class="one-half column">
                <div id="database_info">No database defined</div>
            </div>
            <div class="one-half column">
                <a id="database_link" href="">Download database</a>
            </div>
        </div>
    </fieldset>

    <fieldset>
        <legend>Add Images to Database</legend>
        <div class="row">
            <div class="one-half column">
                <label for="upload_images_file">Choose Zip Containing Image Files</label>
                <input type="file" id="upload_images_file"/>
            </div>
            <div class="one-half column">
                <progress id="upload_images_progress" min="0" max="100" value="0" style="display:none;">0% complete
                </progress>
                <div id="load_monitor">
                    <img style="display:block;object-fit:scale-down;width:160px;height:160px;" id="load_image"/>
                    <div id="load_file_name">
                    </div>
                </div>
            </div>
            <a href="view_code" target="_blank">View Code</a>
        </div>
        <div class="row">
            <div id="load_info"></div>
        </div>
    </fieldset>

    <fieldset>
        <legend>Search Database for Similar Images</legend>
        <div class="row">
            <div class="one-half column">
                <label for="upload_image_file">Choose Image File</label>
                <input type="file" id="upload_image_file"/>
                <div>
                    <img width="256" id="image"/>
                </div>
            </div>
            <div class="one-half column">
                <progress id="upload_image_progress" min="0" max="100" value="0" style="display:none;">0% complete
                </progress>
                <input id="search_btn" type="button" value="Search"/>
                <table id="search_table">
                    <thead>
                        <tr>
                            <th>Filename</th>
                            <th>Similarity</th>
                            <th>Thumbnail</th>
                        </tr>
                    </thead>
                    <tbody id="search_table_body">
                    </tbody>
                </table>
            </div>
            <a href="view_code" target="_blank">View Code</a>
        </div>
        <div class="row">
            <div id="search_info"></div>
        </div>

    </fieldset>
</div>
</body>
</html>