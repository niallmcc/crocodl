<html>
<head>
    <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/skeleton.css">
    <link rel="stylesheet" href="/css/custom.css">
    <script type="text/javascript" src="/js/runtime.js"></script>
    <script type="text/javascript" src="/js/train_runtime.js"></script>
</head>

<body onload="boot_runtime()">
<div class="container">
    <h1>Train an Image Classifier</h1>
    <fieldset>
        <legend>Data Settings</legend>
        <div class="row">
            <div class="one-half column">
                <label for="upload_data_file">Choose Training Data Zip to Upload</label>
            </div>
            <div class="one-half column">
                <input type="file" id="upload_data_file"/>
                <progress id="upload_data_progress" min="0" max="100" value="0" style="display:none;">0% complete
                </progress>
            </div>
        </div>
        <div class="row">
            <div id="data_info">No data loaded</div>
        </div>
    </fieldset>
    <fieldset>
        <legend>Model Settings</legend>
         <div class="row">
            <div class="one-half column">
                <label for="create_model">
                <input type="radio" id="create_model" name="model" value="create_model" checked/>
                    Create New Model
                </label>
            </div>
            <div class="one-half column">
                <select id="architectures">
                </select>
                <input type="button" id="create_model_button" value="Create"/>
            </div>
        </div>
        <div class="row">
            <div class="one-half column">
                <label for="upload_model">
                    <input type="radio" id="upload_model" name="model" value="upload_model"/>
                    Upload Existing Model
                </label>
            </div>
            <div class="one-half column">
                <label for="upload_model_file">Choose File</label>
                <input type="file" id="upload_model_file"/>
                <progress id="upload_model_progress" min="0" max="100" value="0" style="display:none;">0% complete
                </progress>
            </div>
        </div>
        <div class="row">
            <div id="model_info">No model defined</div>
        </div>
    </fieldset>
    <fieldset>
        <legend>Training Settings</legend>
        <div class="row">
            <div class="one-half column">
                <label for="nr_epochs">
                    Number of Epochs
                    <input type="number" id="nr_epochs" min="1" value="5" />
                </label>
            </div>
            <div class="one-half column">
                <label for="batch_size">
                    Batch Size
                    <input type="number" id="batch_size" min="1" value="16" />
                </label>
            </div>
        </div>
    </fieldset>
    <fieldset>
        <legend>Training Progress</legend>
        <div class="row">
            <div class="one-half column">
                <label for="train_button">
                    <input class="button-primary" type="button" id="train_button" value="Start training" />
                    <span id="training_status"></span>
                </label>
            </div>
            <div class="one-half column">
                <label for="training_progress">Training Progress
                    <progress id="training_progress" min="0" max="100" value="0">0% complete
                    </progress>
                </label>
            </div>
        </div>
        <div class="row">
            <div class="column">
                <iframe width="100%" height="450" id="training_graph" src="training_accuracy_chart.html"></iframe>
            </div>
        </div>
    </fieldset>
    <fieldset>
        <legend>Download Model</legend>
        <div class="row">
            <div class="one-half column">
                Download Link:
            </div>
            <div class="one-half column">
                <a id="model_download">(No model to download)</a>
            </div>
        </div>
    </fieldset>
</div>
</body>
</html>